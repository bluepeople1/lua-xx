function 常用界面ipad()
主界面px,主界面py= 找颜色(0x4d5059,"73|15|0x00b5e2,100|19|0x0f1c33,142|26|0x0a0414,173|22|0x261907", 95, 1295, 1217, 1634, 1267)
决斗场px,决斗场py = 找颜色(0x8395bc,"528|-5|0xbc8100,1063|-3|0xb85f3f,298|657|0x825200,418|750|0xfdcb48,107|940|0x4e8202,709|949|0x875601", 95, 492, 124, 2028, 1519)
手动中px,手动中py = 找颜色(0xfceaaa,"31|-3|0xfceaaa,-1|11|0xfceaaa,33|11|0xfceaaa,-6|22|0xe0d29b,38|22|0xfae8a9,11|39|0xf8e7a8", 95, 8, 308, 169, 462)
自动中px,自动中py = 找颜色(0x0e0d16,"9|129|0xffffff,9|180|0xded0ff,8|279|0x000004,9|318|0xb9b1fb,-27|363|0xfceaaa,-27|1248|0x07479a", 95, 4, 8, 249, 1528)
胜利px,胜利py = 找颜色(0xffffff,"1002|50|0xffffff,-585|619|0x990100,34|557|0x574f4d,311|891|0x5e2e22,-4|1121|0x4e8101,812|1121|0x835200", 95, 32, 267, 1745, 1478)
--失败px,失败py = 找颜色(0xffffd4,"675|-49|0xfefefe,-526|561|0x00969d,315|576|0xaee668,914|518|0x1d3c3e,-151|922|0x4e8102,655|920|0x825200", 95, 21, 264, 1956, 1486)
失败px,失败py = 找颜色(0x16191c,"111|55|0xffffff,311|57|0x3b629a,724|139|0x2a538f", 95, 1009, 308, 2045, 513)
平局px,平局py = 找颜色(0x020092,"1073|44|0x71b02f,213|464|0x02c7f6,837|803|0x2a6d58,290|1058|0x518405,495|995|0xb1e667,1120|1001|0xfeba38", 95, 10, 263, 1739, 1524)
零点重置px,零点重置py = 找颜色(0xfffaf0,"681|8|0xc6f895,1036|5|0xfffaf0,81|68|0xfef9ef,421|211|0xb3e769,604|270|0x4e8002,512|353|0x30324b", 95, 347, 487, 1701, 1059)
end

function 不常用界面ipad()
认输px,认输py = 找颜色(0xfecc67,"102|68|0x130c00,192|76|0x895601,382|71|0x4e8102,518|30|0xf2eee3,605|-7|0x636366,-187|-119|0xd3cfcc", 95, 698, 802, 1363, 961)
断线px,断线py = 找颜色(0x5c5e77,"-466|143|0x30324b,440|148|0x30324b,-448|198|0x30324b,-110|307|0xa7e05a,78|370|0x558809,-28|461|0x30324b", 95, 344, 505, 1706, 1036)
今日任务px,今日任务py= 找颜色(0x676d7a,"194|19|0x8ef4fe,285|18|0x00257d,447|22|0xffc800,609|17|0x00389b,714|17|0x5773ad,918|0|0x676d79", 95, 469, 338, 1594, 450)
红今日任务px,红今日任务py= 找颜色(0xa3b2c9,"6|2|0x434753,7|5|0xc6c7c8,12|9|0x889294", 95, 754, 356, 782, 376)
领奖成功px,领奖成功py= 找颜色(0xffffff,"144|136|0xffffff,291|128|0x666666,383|133|0xcfcfcf", 95, 709, 486, 1328, 676)
--领奖成功px,领奖成功py= 找颜色(0xf5e699,"268|4|0xfcf5bd,517|3|0xf1e296,-22|67|0x131108,301|112|0xffffff,123|888|0xffbe43,356|946|0x865500", 95, 691, 441, 1363, 1503)
决斗重置px,决斗重置py= 找颜色(0x0066db,"767|8|0x970900,179|184|0xc8fa96,669|340|0xd40d03,255|475|0x30324b,162|554|0xade462,350|614|0x508304", 95, 404, 397, 1651, 1148)
签到px,签到py= 找颜色(0xee440c,"60|18|0xfdfffc,104|39|0xb02619,-1133|-22|0x566daa,-849|-30|0xffc800,-548|-15|0xa3abbf,-128|-7|0xb0aeab", 95, 1887, 84, 2028, 161)
误点卡信息px,误点卡信息py= 找颜色(0xc1c1b8,"38|8|0x0b8cfa,144|58|0xfffaf0,216|73|0x2d3e63,348|-167|0x969bc1,271|1092|0x3e3f51,1379|1086|0xb0b5cd", 95, 28, 307, 315, 494)
升级px,升级py= 找颜色(0x0049d5,"184|24|0xff9402,571|-18|0xf9cd2a,909|14|0x536b99,429|200|0x00ff00,275|720|0xade365,549|767|0x508205", 95, 428, 215, 1616, 1260)
广告px,广告py= 找颜色(0xfbb198,"59|-4|0xf3a179,115|11|0xdc9b65,1|21|0xe94008,28|56|0x980900,62|30|0xfafdff,113|59|0xb02b1e", 95, 1866, 129, 2005, 213)
排行榜px,排行榜py= 找颜色(0x216fff,"22|-1|0xfffaf0,80|2|0xfffaf0,98|3|0x0097ff,141|2|0xfffaf0,175|5|0x0068ea,200|-3|0xfffaf0", 95, 179, 454, 428, 515)
冒险px,冒险冒险py= 找颜色(0x249600,"26|-5|0xe1ffd4,-5|56|0x2da1fc,25|61|0x007bb6,-3|98|0xfffaf0,16|126|0xfffaf0,38|131|0xfffaf0", 95, 1850, 1322, 1946, 1515)
段位px,段位py= 找颜色(0x575b66,"144|7|0x8d95aa,204|23|0x293852,307|17|0xfbc500,464|31|0xffc800,611|22|0xffc800,772|6|0xa0a6c0", 95, 472, 193, 1584, 310)
战报px,战报py= 找颜色(0xd81203,"-2|47|0x8c2086,398|-7|0xb1e56a,556|40|0x4e8103,377|116|0xffc95f,455|147|0xfffaf0,548|163|0x835300", 95, 1207, 274, 1863, 533)
战绩px,战绩py= 找颜色(0xffc83c,"77|2|0xffc83c,141|-7|0xffc83c,193|4|0xffc83c,484|2|0x182037,696|-14|0xf2e69e,704|9|0xf537a8", 95, 527, 1014, 1332, 1100)
人物px,人物py= 找颜色(0xffff80,"10|0|0xf93906,22|0|0xffff80,36|0|0xffff80,49|-1|0xffff80,59|8|0xc22700,63|28|0x831800", 95, 1453, 282, 1546, 332)
赛季奖励px,赛季奖励py= 找颜色(0x696f7b,"203|26|0x273a4e,351|20|0x0054cc,426|32|0xffc800,483|14|0x7f6c14,629|26|0x002881,804|11|0x979eba", 95, 597, 67, 1723, 189)
误点卡信息2px,误点卡信息py= 找颜色(0x0189ff,"63|25|0xfffaf0,181|23|0x2c3f64,-17|208|0x334350,75|261|0xfffaf0,172|236|0x202328,80|298|0x2c343f", 95, 20, 302, 328, 728)
教学px,教学py= 找颜色(0x2fcaeb,"33|-9|0xfefb0b,46|14|0xfd7f01,71|-11|0xfbff1e,115|-4|0x40e2fe,144|1|0xfed400,210|-6|0xfff704", 95, 1312, 243, 1553, 310)
社团px,社团py= 找颜色(0xc3c0bb,"-13|17|0x9e9c9a,6|28|0x838282,14|38|0x4f5054,14|19|0xc7c3be,29|30|0xfffaf0,43|53|0xf1ece3", 95, 465, 20, 535, 95)
成就px,成就py= 找颜色(0x815022,"-45|44|0xe7d25e,-1|45|0x7ccdb9,50|45|0xf0da65,-53|82|0xc48f51,1|92|0xfafdfd,49|104|0x996321", 95, 1481, 175, 1645, 353)
爷爷的店px,爷爷的店py= 找颜色(0xf5f0e7,"37|-2|0xf4f0e6,67|-2|0xf9f4eb,98|-3|0xfcf7ee,133|11|0x1f2129,192|26|0xfffaf0,235|47|0xfcf7ed", 95, 401, 23, 663, 102)
图鉴px,图鉴py= 找颜色(0x048afe,"38|27|0xfffaf0,53|25|0xfdf8ef,81|32|0xfffaf0,89|37|0xe2e0d9,110|45|0xfffaf0,119|49|0x393e43,127|56|0xf7f2e9", 95, 23, 253, 324, 440)
邮件px,邮件py= 找颜色(0x4381fe,"116|45|0xfffaf0,160|48|0xfffaf0,63|195|0x6d678b,130|234|0xd5d0c9,210|264|0x5c5976,166|437|0xfaf5ec", 95, 104, 233, 533, 804)
任务领奖px,任务领奖py= 找颜色(0xf9ee00,"24|1|0xfcee04,37|1|0xffec01,60|3|0xf7e001,73|3|0x9d8d02,107|2|0x726300,147|4|0xe1c400", 95, 115, 189, 311, 244)
角色px,角色py= 找颜色(0xfffaf0,"40|17|0x34416c,73|4|0xfffaf0,104|8|0x171d31,138|9|0xfffaf0,170|23|0x1c1e26,226|14|0xfffaf0", 95, 389, 18, 685, 104)
金币兑换px,金币兑换py= 找颜色(0x2f0400,"58|21|0xf3af10,89|56|0xf4fca1,180|15|0x1d1e2d,225|9|0xede8e1,250|30|0xfcf6ed,292|37|0xfffaf0", 95, 454, 365, 853, 575)
充值px,充值py= 找颜色(0xe9d749,"56|7|0xfeff24,86|10|0xfeff05,136|12|0xfbfc03,38|47|0x720000,79|55|0xfffaf0,124|87|0x5d0000", 95, 322, 272, 524, 431)
活动px,活动py= 找颜色(0x36426e,"72|-6|0xfffaf0,93|8|0x384474,109|9|0xfffaf0,152|13|0xf6f1e8,174|-2|0x364370,218|1|0x344068", 95, 398, 18, 746, 100)
商城px,商城py= 找颜色(0x8b90ad,"26|1|0x737697,5|10|0x787d9d,14|11|0xbabfd8,26|18|0x6c708c,0|27|0x636780,25|32|0x1f2533", 95, 1707, 1443, 1754, 1493)
卡组px,卡组py= 找颜色(0x45607d,"31|-1|0xfef064,30|37|0xa49100,67|3|0x43627b,81|0|0xffef70,104|36|0xa49200,125|8|0xfdeb56", 95, 1713, 1145, 1925, 1224)
魔盒px,魔盒py= 找颜色(0xfffaf0,"19|9|0xf8f3ea,29|15|0xfffaf0,80|-5|0xfffaf0,134|-5|0xfffaf0,169|6|0xfffaf0,189|22|0x1b1b1b", 95, 54, 510, 326, 693)
旅行px,旅行py= 找颜色(0x35a2de,"123|-3|0x33a3e2,54|14|0xa9d9f1,28|108|0xebfbfb,71|124|0xdef0f9,53|138|0x114b6b,53|157|0x04d9db", 95, 526, 1310, 751, 1524, 0, 0)
--红叉px,红叉py= 找颜色(0xf04406,"35|3|0xfefefd,83|2|0xd97236,19|41|0x970a00", 95, 1853,72,2044,174)
红叉px,红叉py= 找颜色(0x454a59,"19|6|0xeb440a,64|26|0xc12705,102|43|0xfcfffe,122|49|0xa31a0e", 95, 1828, 112, 2025, 244)
红叉2px,红叉2py= 找颜色(0x454a59,"19|6|0xeb440a,64|26|0xc12705,102|43|0xfcfffe,122|49|0xa31a0e", 95, 1610, 13, 2039, 381)
end

function 冒险界面ipad()
lpx, lpy = 找颜色(0x5fdcfc,"20|1|0x35cff4,-2|16|0xabe9fa,19|15|0x62d3f5,23|25|0x0a679a", 95, 3, 123, 2041, 1528)
zpx, zpy = 找颜色(0xae76fe,"24|0|0x893bfb,-1|13|0xc9a9fb,17|12|0xa468f5,23|19|0x4f0597", 95, 3, 123, 2041, 1528)
hpx, hpy = 找颜色(0xfce579,"23|-1|0xfad63d,-1|13|0xf9eca9,17|12|0xf5de68,21|20|0x938c06", 95, 3, 123, 2041, 1528)
赢了px, 赢了py = 找颜色(0xcc7f3a,"40|-7|0xffffff,94|25|0x010101,150|26|0xffffff,186|38|0xcd782e,249|42|0xcd772e,318|62|0x38220e", 95, 1580, 307, 2041, 495)
输了px, 输了py = 找颜色(0x446ca1,"70|10|0x40679d,133|27|0xffffff,236|63|0x030303,386|17|0x3b669c,416|17|0xffffff,454|33|0x000001", 95, 1499, 314, 2043, 489)
挑战px, 挑战py = 找颜色(0xfffaf0,"0|37|0xfffaf0,54|0|0xfffaf0,54|17|0xfffaf0,55|37|0xfffaf0,70|30|0x487702", 95, 8, 122, 2040, 1531)
end 

function 多用界面p()
if 主界面px> -1 then
mSleep(1000)--点击2(1472,728)
elseif 决斗场px> -1 then
mSleep(1000)--点击2(1111,1111)
elseif 手动中px> -1 then
点击2(50,360)
elseif 自动中px> -1 then
mSleep(1000) --点击2(28,537)
elseif 胜利px> -1 then
点击2(620,1380)
elseif 失败px> -1 then
点击2(620,1380)
elseif 平局px> -1 then
点击2(620,1380)
elseif 零点重置px> -1 then
点击2(900,940)
end
end

function 少用界面p()
if 断线px> -1 then         --ok
点击2(1000,850)
elseif 签到px> -1 then   --ok
点击2(1900,112)
elseif 红叉px> -1 then   --ok
点击2(1930, 172)
elseif 红叉2px> -1 then   --ok
点击2(1911, 250)
elseif 商城px> -1 then   --ok
点击2(140, 60)
elseif 魔盒px> -1 then   --ok
点击2(140, 60)	
elseif 卡组px> -1 then  --ok
点击2(140, 60)		
elseif 升级px> -1 then
点击2(1020,1090)
elseif 认输px> -1 then  --ok
点击2(1090,880)
elseif 领奖成功px> -1 then  --ok
点击2(1000,1420)
elseif 决斗重置px> -1 then  --ok
点击2(1020,1040)
elseif 段位px> -1 then  --ok
点击2(1710, 282)				
elseif 战绩px> -1 then  --ok
点击2(1640, 230)
elseif 金币兑换px> -1 then --ok
点击2(1630,315)
elseif 图鉴px> -1 then --ok
点击2(1685, 165)	
elseif 误点卡信息px> -1 then --ok
点击2(170,1170)
elseif 误点卡信息2px> -1 then --ok
点击2(100, 1150)
elseif 今日任务px> -1 then  --ok
点击2(870,380)
elseif 红今日任务px> -1 then  --ok
点击2(870,380)
elseif 广告px> -1 then  --ok
点击2(1930,180)
elseif 社团px> -1 then  --ok
点击2(140, 60)				
elseif 爷爷的店px> -1 then  --ok
点击2(140, 60)				
elseif 角色px> -1 then  --ok
点击2(140, 60)	
elseif 充值px> -1 then  --ok
点击2(140, 60)			
elseif 活动px> -1 then   --ok
点击2(140, 60)
elseif 邮件px> -1 then  --ok
点击2(1940, 200)	
elseif 成就px> -1 then  --ok
点击2(1940, 140)
elseif 任务领奖px> -1 then  --ok
点击2(1940, 140)
elseif 教学px> -1 then  --ok
点击2(1940, 140)
elseif 战报px> -1 then  --ok
点击2(1900, 200)	
elseif 排行榜px> -1 then  --ok
点击2(1960, 183)
elseif 赛季奖励px> -1 then  --ok
点击2(1945, 161)		
elseif 人物px> -1 then      --ok
点击2(1800, 190)
elseif 冒险px> -1 then  --ok
点击2(151, 55)
elseif 旅行px> -1 then   --ok
点击2(140,60)	

end

end

function 可领奖ipad()
mSleep(ttt)
if  可领奖==1 then
while true do
常用界面ipad()
不常用界面ipad()
if 主界面px> -1  then   
点击(1472,728)
elseif 决斗场px> -1  then 
break
elseif 签到px> -1  then  
点击(1900,112)
elseif 领奖成功px> -1  then 
点击(1000,1420)	
end
end
mSleep(ttt)
点击(640,1120)  --进入每日领奖
mSleep(ttt)
点击(1150,760)   --领取1
mSleep(ttt)
点击(1130,1360)   --返回
mSleep(ttt)
点击(1150,760)   --领取2
mSleep(ttt)
点击(1130,1360)   --返回
mSleep(ttt)
点击(1150,760)   --领取3
mSleep(ttt)
点击(1130,1360)   --返回
mSleep(ttt)
点击(1150,760)   --领取4
mSleep(ttt)
点击(1130,1360)   --返回
mSleep(ttt)
点击(1150,760)   --领取5
mSleep(ttt)
点击(1130,1360)   --返回
mSleep(ttt)
点击(1940,160)    --结束每日领奖回到决斗场
mSleep(ttt)
点击(130,60)     --返回主界面
mSleep(2*ttt)
点击(870,380)   --清除每日任务
mSleep(ttt)
点击(1245,215)   --点击任务领取
mSleep(ttt)
点击(1760,1307)   --点击任务领取5
mSleep(ttt)
点击(1130,1360)   --返回
mSleep(ttt)
点击(1380,1307)   --点击任务领取4
mSleep(ttt)
点击(1130,1360)   --返回
mSleep(ttt)
点击(1020,1307)   --点击任务领取3
mSleep(ttt)
点击(1130,1360)   --返回
mSleep(ttt)
点击(655,1307)   --点击任务领取2
mSleep(ttt)
点击(1130,1360)   --返回
mSleep(ttt)
点击(280,1307)   --点击任务领取1
mSleep(ttt)
点击(1130,1360)   --返回
mSleep(ttt)
点击(460,320)   --点击宝箱领取1
mSleep(ttt)
点击(1130,1360)   --返回
mSleep(ttt)
点击(690,320)   --点击宝箱领取2
mSleep(ttt)
点击(1130,1360)   --返回
mSleep(ttt)
点击(920,320)   --点击宝箱领取3
mSleep(ttt)
点击(1130,1360)   --返回
mSleep(ttt)
点击(1160,320)   --点击宝箱领取4
mSleep(ttt)
点击(1130,1360)   --返回
mSleep(ttt)
点击(1500,320)   --点击宝箱领取5
mSleep(ttt)
点击(1130,1360)   --返回
mSleep(ttt)
点击(1940,140)   --返回主界面
mSleep(ttt)
else
mSleep(ttt)
点击(130,60)    --回到主界面
mSleep(ttt)
end
end

function 选牌p()

满5=0


function  攻击力1()
mSleep(400)
keepScreen(true);
colorTbl = binarizeImage({
rect = {518,834,679,882},
diff = {"0xfffaf0-0x202020"}
})
for _, row in pairs(colorTbl) do
sysLog(table.concat(row, ','))
end
local ocr, msg = createOCR({
type = "tesseract"
})
local code, 攻1 = ocr:getText({
data = colorTbl,
psm = 7, -- 单个字符模式识别
whitelist = "0123456789"
})
keepScreen(false);
ocr:release()
攻1s=tonumber(攻1)
mSleep(50)
end

function  攻击力2()
mSleep(400)
keepScreen(true);
colorTbl = binarizeImage({
rect = {919,835,1086,884},
diff = {"0xfffaf0-0x202020"}
})
for _, row in pairs(colorTbl) do
sysLog(table.concat(row, ','))
end
local ocr, msg = createOCR({
type = "tesseract"
})
local code, 攻2 = ocr:getText({
data = colorTbl,
psm = 7, -- 单个字符模式识别
whitelist = "0123456789"
})
keepScreen(false);
ocr:release()
攻2s=tonumber(攻2)
mSleep(50)
end

function  攻击力3()
mSleep(400)
keepScreen(true);
colorTbl = binarizeImage({
rect = {1315,833,1497,884},
diff = {"0xfffaf0-0x202020"}
})
for _, row in pairs(colorTbl) do
sysLog(table.concat(row, ','))
end
local ocr, msg = createOCR({
type = "tesseract"
})
local code, 攻3 = ocr:getText({
data = colorTbl,
psm = 7, -- 单个字符模式识别
whitelist = "0123456789"
})
keepScreen(false);
ocr:release()
攻3s=tonumber(攻3)
mSleep(50)
end

function  攻击力4()
mSleep(400)
keepScreen(true);
colorTbl = binarizeImage({
rect = {1745,827,1920,891},
diff = {"0xfffaf0-0x202020"}
})
for _, row in pairs(colorTbl) do
sysLog(table.concat(row, ','))
end
local ocr, msg = createOCR({
type = "tesseract"
})
local code, 攻4 = ocr:getText({
data = colorTbl,
psm = 7, -- 单个字符模式识别
whitelist = "0123456789"
})
keepScreen(false);
ocr:release()
攻4s=tonumber(攻4)
mSleep(50)
end


while true do 

mSleep(200)
单轮次数=0
号1=0
号2=0
号3=0
号4=0


攻击力1()
攻击力2()
攻击力3()
攻击力4()


竞技有牌px,竞技有牌py= 找颜色(0xfafa78,"105|-11|0xfafa78,70|88|0x9b2400,36|252|0xa32500,103|254|0xa22600", 95, 705, 182, 1076, 560)
if 竞技有牌px> -1 then
break
end

while true do 

mSleep(200)

if 攻1s~=nil and 攻1s>1599 and 攻1s<2499 and 号1==0  then
if 攻1s>=2000 and 满5==5 then
mSleep(10)
else
选取(700,840,40,800)
单轮次数=单轮次数+1
号1=1
if 攻1s>=2000 then
满5=满5+1
end
end
if 单轮次数==2 then
break
end
end

if 攻2s~=nil and 攻2s>1599 and 攻2s<2499 and 号2==0 then
if 攻2s>=2000 and 满5==5 then
mSleep(10)
else
选取(1120,840,40,800)
单轮次数=单轮次数+1
号2=1
if 攻2s>=2000 then
满5=满5+1
end
end
if 单轮次数==2 then
break
end
end

if 攻3s~=nil and 攻3s>1599 and 攻3s<2499 and 号3==0 then
if 攻3s>=2000 and 满5==5 then
mSleep(10)
else
选取(1520,840,40,800)
单轮次数=单轮次数+1
号3=1
if 攻3s>=2000 then
满5=满5+1
end
end
if 单轮次数==2 then
break
end
end

if 攻4s~=nil and 攻4s>1599 and 攻4s<2499 and 号4==0 then
if 攻4s>=2000 and 满5==5 then
mSleep(10)
else
选取(1920,840,40,800)
单轮次数=单轮次数+1
号4=1
if 攻4s>=2000 then
满5=满5+1
end
end
if 单轮次数==2 then
break
end
end

----------------------------------------------------------------------------


if 攻4s==nil and 号4==0 then
选取(1920,840,40,800)
单轮次数=单轮次数+1
号4=1
if 单轮次数==2 then
break
end
end

if 攻3s==nil and 号3==0 then
选取(1520,840,40,800)
单轮次数=单轮次数+1
号3=1
if 单轮次数==2 then
break
end
end

if 攻2s==nil  and 号2==0 then
选取(1120,840,40,800)
单轮次数=单轮次数+1
号2=1
if 单轮次数==2 then
break
end
end

if 攻1s==nil and 号1==0  then
选取(700,840,40,800)
单轮次数=单轮次数+1
号1=1
if 单轮次数==2 then
break
end
end

----------------------------------------------------------------------------
if 攻1s~=nil and 攻1s>=0  and 号1==0  then
选取(700,840,40,800)
单轮次数=单轮次数+1
号1=1
if 单轮次数==2 then
break
end
end

if 攻2s~=nil and 攻2s>=0  and 号2==0 then
选取(1120,840,40,800)
单轮次数=单轮次数+1
号2=1
if 单轮次数==2 then
break
end
end

if 攻3s~=nil and 攻3s>=0  and 号3==0 then
选取(1520,840,40,800)
单轮次数=单轮次数+1
号3=1
if 单轮次数==2 then
break
end
end

if 攻4s~=nil and 攻4s>=0  and 号4==0 then
选取(1920,840,40,800)
单轮次数=单轮次数+1
号4=1
if 单轮次数==2 then
break
end
end


----------------------------------------------------------------------------


竞技有牌px,竞技有牌py= 找颜色(0xfafa78,"105|-11|0xfafa78,70|88|0x9b2400,36|252|0xa32500,103|254|0xa22600", 95, 705, 182, 1076, 560)
if 竞技有牌px> -1 then
break
end

end

end
end

function 防闪退p()
if 闪退==1 then
flag = appIsRunning("com.gamest.fight.city.ol"); 
if flag == 0 then --如果没有运行
闪退次数=闪退次数+1
runApp("com.gamest.fight.city.ol")
mSleep(18000)
点击(1020,1210)
for xx=1,360,1 do
mSleep(1000)
fangx, fangy = findMultiColorInRegionFuzzy(0x06b3ee,"116|64|0x06b3ee,433|241|0xc8cac8,89|336|0x46cfe8,376|389|0x0a99b3", 95, 765, 549, 1280, 986, 0, 0)
if fangx> -1 then
mSleep(1500)
touchDown(1, 1020,939)
mSleep(100)
touchUp(1, 1020,939)  
mSleep(1000)
break
end
end
mSleep(10000)
点击(1965,625)
for xxx=1,360,1 do
mSleep(1000)
fang2x, fang2y =findMultiColorInRegionFuzzy(0x31535f,"94|-65|0xb0e668,302|-2|0xeeffca,413|-9|0x4f8301,535|-234|0x00ff00", 95, 727, 1089, 1487, 1449, 0, 0) 
--findMultiColorInRegionFuzzy(0x39606d,"62|-2|0xa6e05b,119|43|0x518802,304|54|0xeeffcb,383|64|0x508404", 95, 749, 1266, 1272, 1457, 0, 0)
if fang2x> -1 then
mSleep(1500)
点击(1000,1410)
mSleep(1000)
进入有效=0
break
end
end
if 进入有效~=0 or 进入有效=="" then
结束()
lua_exit();
end
--点击(1020,1210)
--mSleep(10000)
--点击(1020,940)
--mSleep(10000)
--点击(1010,1360)
--mSleep(1000)
end
end
end